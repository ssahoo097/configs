serviceMaps:
 serviceName: mr-services
 mappings:
 - version: 1.0
   description: Persists marriageRegistartion details in eg_mr_application  table
   fromTopic: save-mr-marriageregistration
   isTransaction: true
   queryMaps:

       - query: INSERT INTO eg_mr_application(id, accountid, tenantid, applicationtype, mrnumber, applicationnumber, applicationdate , marriagedate, issueddate, action, status, createdby, lastmodifiedby, createdtime, lastmodifiedtime, businessservice, workflowcode) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: MarriageRegistrations.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.id

          - jsonPath: $.MarriageRegistrations.*.accountId

          - jsonPath: $.MarriageRegistrations.*.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.applicationType

          - jsonPath: $.MarriageRegistrations.*.mrNumber

          - jsonPath: $.MarriageRegistrations.*.applicationNumber

          - jsonPath: $.MarriageRegistrations.*.applicationDate

          - jsonPath: $.MarriageRegistrations.*.marriageDate

          - jsonPath: $.MarriageRegistrations.*.issuedDate

          - jsonPath: $.MarriageRegistrations.*.action

          - jsonPath: $.MarriageRegistrations.*.status

          - jsonPath: $.MarriageRegistrations.*.auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.businessService

          - jsonPath: $.MarriageRegistrations.*.workflowCode



       - query: INSERT INTO eg_mr_marriageplace(id, ward, pincode , placeofmarriage, locality, additionaldetail, mr_id, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ? , ?);
         basePath: MarriageRegistrations.*.marriagePlace
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.id

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.ward
          
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.pinCode

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.placeOfMarriage

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.locality.code

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations.*.id

          - jsonPath: $.MarriageRegistrations.*.auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime



       - query: INSERT INTO public.eg_mr_couple(id, tenantid, mr_id, isdivyang, isgroom , title, firstname, dateofbirth, fathername, mothername, createdby, lastmodifiedby, createdtime , lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? );
         basePath: MarriageRegistrations.*.coupleDetails.*.bride
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.tenantId

          - jsonPath: $.MarriageRegistrations.[*][?({id} in @.coupleDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isGroom

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.title
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.motherName

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          
          
       - query: INSERT INTO public.eg_mr_couple(id, tenantid, mr_id, isdivyang, isgroom , title, firstname, dateofbirth, fathername, mothername, createdby, lastmodifiedby, createdtime , lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? );
         basePath: MarriageRegistrations.*.coupleDetails.*.groom
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.tenantId

          - jsonPath: $.MarriageRegistrations.[*][?({id} in @.coupleDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isGroom

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.title
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.motherName

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          


       - query: INSERT INTO eg_mr_address(id, tenantid, mr_couple_id, addressline1, country, state, district, pincode, contact, emailaddress, createdby,  lastmodifiedby ,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.addressLine1          
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.pinCode
                      
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO eg_mr_address(id, tenantid, mr_couple_id, addressline1, country, state, district, pincode, contact, emailaddress, createdby,  lastmodifiedby ,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.addressLine1          
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.pinCode
                      
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO eg_mr_gaurdiandetails(id, tenantid, mr_couple_id, addressid , relationship, relationshipdesc , name, addressline1, country, state, district, pincode, contact, emailaddress, createdby ,lastmodifiedby , createdtime,  lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.id
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.emailAddress 

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO eg_mr_gaurdiandetails(id, tenantid, mr_couple_id, addressid , relationship, relationshipdesc ,  name, addressline1, country, state, district, pincode, contact, emailaddress, createdby ,lastmodifiedby , createdtime,  lastmodifiedtime) VALUES (?, ? , ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.id
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.emailAddress 

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO public.eg_mr_witness( id, tenantid, mr_couple_id, title, address, firstname, country, state, district, pincode , contact, createdby, lastmodifiedby, createdtime,  lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.id

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.tenantId

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.title

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.address

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.firstName
          
          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.country

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.state

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.district

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.pinCode

          - jsonPath: $MarriageRegistrations.*.coupleDetails.*.bride.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO public.eg_mr_witness( id, tenantid, mr_couple_id, title, address, firstname, country, state, district, pincode , contact, createdby,lastmodifiedby, createdtime,  lastmodifiedtime) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.tenantId

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.address

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.country

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.state

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.district

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.pinCode

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime          
          


       - query: INSERT INTO eg_mr_applicationdocument( id, tenantid, active, documenttype, filestoreid, mr_id , createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ;
         basePath: MarriageRegistrations.*.applicationDocuments.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.id

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.tenantId

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.active

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.documentType

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.fileStoreId

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].id

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedTime



 - version: 1.0
   description: Update marriageRegistration details in eg_mr_application  table
   fromTopic: update-mr-marriageregistration
   isTransaction: true
   queryMaps:
   
       - query: INSERT INTO eg_mr_application_audit SELECT * FROM eg_mr_application WHERE id = ?;
         basePath: MarriageRegistrations.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.id
          
       - query: INSERT INTO eg_mr_marriageplace_audit SELECT * FROM eg_mr_marriageplace WHERE id = ?;
         basePath: MarriageRegistrations.*.marriagePlace
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.id
          
       - query: INSERT INTO eg_mr_couple_audit SELECT * FROM eg_mr_couple WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id
          
       - query: INSERT INTO eg_mr_couple_audit SELECT * FROM eg_mr_couple WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id
          
       - query: INSERT INTO eg_mr_address_audit SELECT * FROM eg_mr_address WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.id
          
       - query: INSERT INTO eg_mr_address_audit SELECT * FROM eg_mr_address WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.id                                                  
   
       - query: INSERT INTO eg_mr_gaurdiandetails_audit SELECT * FROM eg_mr_gaurdiandetails WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.id
          
       - query: INSERT INTO eg_mr_gaurdiandetails_audit SELECT * FROM eg_mr_gaurdiandetails WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.id
          
       - query: INSERT INTO eg_mr_witness_audit SELECT * FROM eg_mr_witness WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.id
          
       - query: INSERT INTO eg_mr_witness_audit SELECT * FROM eg_mr_witness WHERE id = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.id   

       - query: UPDATE public.eg_mr_application SET accountid=?,  mrnumber=? , marriagedate=? , issueddate=?, action=?, status=?, lastmodifiedby=?,  lastmodifiedtime=? ,businessservice = ?, applicationtype = ?, workflowcode = ? WHERE id = ?;
         basePath: MarriageRegistrations.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.accountId

          - jsonPath: $.MarriageRegistrations.*.mrNumber

          - jsonPath: $.MarriageRegistrations.*.marriageDate

          - jsonPath: $.MarriageRegistrations.*.issuedDate

          - jsonPath: $.MarriageRegistrations.*.action

          - jsonPath: $.MarriageRegistrations.*.status

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.businessService
          
          - jsonPath: $.MarriageRegistrations.*.applicationType          
      
          - jsonPath: $.MarriageRegistrations.*.workflowCode

          - jsonPath: $.MarriageRegistrations.*.id


       - query: UPDATE public.eg_mr_marriageplace SET  ward=?, pincode = ? , placeofmarriage=?, locality=?, additionaldetail=?,  lastmodifiedby=?,  lastmodifiedtime=? WHERE  id = ?;
         basePath: MarriageRegistrations.*.marriagePlace
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.ward
          
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.pinCode

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.placeOfMarriage

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.locality.code

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.id

       - query: INSERT INTO public.eg_mr_couple(id, tenantid, mr_id, isdivyang, isgroom , title, firstname, dateofbirth, fathername, mothername, createdby, lastmodifiedby, createdtime , lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  ON CONFLICT (id) DO UPDATE SET isdivyang = ?, isgroom = ?,  title = ?, firstname = ?, dateofbirth = ? , fathername = ?, mothername= ? , lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.tenantId

          - jsonPath: $.MarriageRegistrations.[*][?({id} in @.coupleDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isGroom

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.firstname
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.motherName

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.isGroom

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.title
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.motherName
          
          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO public.eg_mr_couple(id, tenantid, mr_id, isdivyang, isgroom , title, firstname, dateofbirth, fathername, mothername, createdby, lastmodifiedby, createdtime , lastmodifiedtime) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  ON CONFLICT (id) DO UPDATE SET isdivyang = ?, isgroom = ?, title = ?, firstname = ?, dateofbirth = ? , fathername = ?, mothername= ? , lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.tenantId

          - jsonPath: $.MarriageRegistrations.[*][?({id} in @.coupleDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isGroom

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.firstname
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.motherName

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isDivyang

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.isGroom
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.title
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.dateOfBirth
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.fatherName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.motherName
          
          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO eg_mr_address(id, tenantid, mr_couple_id, addressline1, country, state, district, pincode, contact, emailaddress , createdby,  lastmodifiedby ,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ,?, ?) ON CONFLICT (id) DO UPDATE SET addressline1 = ?,  country = ?, state= ?, district = ? , pincode = ? , contact = ? , emailaddress= ? ,  lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.pinCode
                              
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO eg_mr_address(id, tenantid, mr_couple_id, addressline1, country, state, district, pincode, contact, emailaddress , createdby,  lastmodifiedby ,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ,?, ?) ON CONFLICT (id) DO UPDATE SET addressline1 = ?,  country = ?, state= ?, district = ? , pincode = ? , contact = ? , emailaddress= ? ,  lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.address
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.pinCode
                              
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.contact
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO eg_mr_gaurdiandetails(id, tenantid, mr_couple_id, addressid , relationship, relationshipdesc , name, addressline1, country, state, district, pincode, contact, emailaddress, createdby ,lastmodifiedby , createdtime,  lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  ON CONFLICT (id) DO UPDATE SET   relationship= ? , relationshipdesc = ? , name =? , addressline1 = ?, country = ?, state= ?, district = ? , pincode = ? ,contact =? , emailaddress = ? ,lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.address.id
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.emailAddress 

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.guardianDetails.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO eg_mr_gaurdiandetails(id, tenantid, mr_couple_id, addressid , relationship, relationshipdesc , name, addressline1, country, state, district, pincode, contact, emailaddress, createdby ,lastmodifiedby , createdtime,  lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  ON CONFLICT (id) DO UPDATE SET   relationship= ? , relationshipdesc = ? , name =? , addressline1 = ?, country = ?, state= ?, district = ? , pincode = ? ,contact =? , emailaddress = ? ,lastmodifiedby =? , lastmodifiedtime = ?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.tenantId
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.address.id
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.emailAddress 

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationship
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.relationshipDesc
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.name
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.addressLine1
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.country
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.state
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.district
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.pinCode
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.contact 
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.guardianDetails.emailAddress

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO public.eg_mr_witness( id, tenantid, mr_couple_id, title, address, firstname, country, state, district, pincode , contact, createdby,lastmodifiedby , createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT (id) DO UPDATE SET title = ?, address = ?, firstname = ?,  country = ?, state = ?, district = ?, pincode = ?  , contact = ? , lastmodifiedby =?, lastmodifiedtime =?;
         basePath: MarriageRegistrations.*.coupleDetails.*.bride.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.tenantId

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.address

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.country

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.state

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.district

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.pinCode

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.address

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.country

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.state

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.district

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.pinCode

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.bride.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO public.eg_mr_witness( id, tenantid, mr_couple_id, title, address, firstname, country, state, district, pincode  , contact, createdby, lastmodifiedby, createdtime,  lastmodifiedtime) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT (id) DO UPDATE SET title = ?, address = ?, firstname = ?,  country = ?, state = ?, district = ?, pincode = ?  , contact = ? , lastmodifiedby =?, lastmodifiedtime =?;
         basePath: MarriageRegistrations.*.coupleDetails.*.groom.witness
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.tenantId

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.id

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.address

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.country

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.state

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.district

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.pinCode

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.title

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.address

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.firstName
          
          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.country

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.state

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.district

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.pinCode

          - jsonPath: $.MarriageRegistrations.*.coupleDetails.*.groom.witness.contact

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.coupleDetails[*].id)].auditDetails.lastModifiedTime


       - query: INSERT INTO eg_mr_applicationdocument( id, tenantid, active, documenttype, filestoreid, mr_id , createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT (id) DO UPDATE SET active = ?, documenttype =?, filestoreid =?,lastmodifiedby =?, lastmodifiedtime =?;
         basePath: MarriageRegistrations.*.applicationDocuments.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.id

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.tenantId

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.active

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.documentType

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.fileStoreId

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].id

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.active

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.documentType

          - jsonPath: $.MarriageRegistrations.*.applicationDocuments.*.fileStoreId

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.applicationDocuments[*].id)].auditDetails.lastModifiedTime



 - version: 1.0
   description: Persists marraige registration details in eg_mr_application  table
   fromTopic: update-mr-workflow
   isTransaction: true
   queryMaps:

       - query: INSERT INTO eg_mr_application_audit SELECT * FROM eg_mr_application WHERE id = ?;
         basePath: MarriageRegistrations.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.id
          
       - query: INSERT INTO eg_mr_marriageplace_audit SELECT * FROM eg_mr_marriageplace WHERE id = ?;
         basePath: MarriageRegistrations.*.marriagePlace
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.id

       - query: INSERT INTO eg_mr_verificationDocument( id, tenantid, active, documenttype, filestoreid, mr_id, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT (id) DO UPDATE SET active = ?, documenttype =?, filestoreid =?,lastmodifiedby =?, lastmodifiedtime =?;
         basePath: MarriageRegistrations.*.verificationDocuments.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.id

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.tenantId

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.active

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.documentType

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.fileStoreId

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].id

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.active

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.documentType

          - jsonPath: $.MarriageRegistrations.*.verificationDocuments.*.fileStoreId

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.verificationDocuments[*].id)].auditDetails.lastModifiedTime

       - query: INSERT INTO eg_mr_dscdetails( id, tenantid, documenttype,  documentid  , additionaldetail , mr_id, approvedby ,applicationnumber , createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ;
         basePath: MarriageRegistrations.*.dscDetails.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.id

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.tenantId

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.documentType

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.documentId

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.approvedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].applicationNumber

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.lastModifiedTime 

       - query: INSERT INTO eg_mr_appointmentdetails( id, tenantid, active, startTime, endTime,description , additionalDetail , mr_id, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? , ?) ON CONFLICT (id) DO UPDATE SET active = ?, startTime =?, endTime =?, description =? , additionalDetail = ? ,lastmodifiedby =?, lastmodifiedtime =?;
         basePath: MarriageRegistrations.*.appointmentDetails.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.id

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.tenantId

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.active

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.startTime

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.endTime
          
          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.description
          
          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].id

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.createdBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.createdTime

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.active

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.startTime

          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.endTime
          
          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.description
          
          - jsonPath: $.MarriageRegistrations.*.appointmentDetails.*.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.appointmentDetails[*].id)].auditDetails.lastModifiedTime

       - query: UPDATE eg_mr_application SET mrnumber = ? , issueddate =?, action = ?, status = ?,  lastmodifiedby = ?,  lastmodifiedtime = ? WHERE id=?;
         basePath: MarriageRegistrations.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.mrNumber

          - jsonPath: $.MarriageRegistrations.*.issuedDate

          - jsonPath: $.MarriageRegistrations.*.action

          - jsonPath: $.MarriageRegistrations.*.status

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.id


       - query: UPDATE eg_mr_marriagePlace SET additionaldetail = ?,lastmodifiedby = ?,  lastmodifiedtime = ? WHERE id = ?;
         basePath: MarriageRegistrations.*.marriagePlace
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.marriagePlace.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations.*.auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.marriagePlace.id

 - version: 1.0
   description: Persists marriageRegistartion Digitally signed Certificate documentId in  eg_mr_dscdetails table
   fromTopic: update-mr-dscdetails
   isTransaction: true
   queryMaps:

       - query: UPDATE eg_mr_dscdetails SET  documenttype =?, documentid =?, additionaldetail = ? , lastmodifiedby =?, lastmodifiedtime =? where id = ? 
         basePath: MarriageRegistrations.*.dscDetails.*
         jsonMaps:
          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.documentType
         
          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.documentId
         
          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.lastModifiedBy

          - jsonPath: $.MarriageRegistrations[*][?({id} in @.dscDetails[*].id)].auditDetails.lastModifiedTime

          - jsonPath: $.MarriageRegistrations.*.dscDetails.*.id